<!DOCTYPE html>
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en">
<!--<![endif]-->
	<head>
            <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta name="author" content="Daniel Hoherd">


        <title>My Protanopic Life - Exploring HDR processing of a single RAW image</title>

            <link href="https://protanopic.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="My Protanopic Life Full Atom Feed" />
            <link href="https://protanopic.com/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate" title="My Protanopic Life Categories Atom Feed" />
        <!-- FAVICON -->
        <!-- CSS -->
        <link rel="stylesheet" href="./theme/css/style.css">

        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

        <!-- Custom CSS -->
        	<link rel="stylesheet" href="./theme/css/colors/blue.css" id="colors">

        <!-- Code highlight color scheme -->
            <link href="./theme/css/code_blocks/darkly.css" rel="stylesheet">


        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->




        <meta name="tags" contents="journal" />
        <meta name="tags" contents="photography" />
    <meta property="og:type" content="article">
    <meta property="og:title" content="Exploring HDR processing of a single RAW image">
    <meta property="og:url" content="exploring-hdr-processing-of-a-single-raw-image.html">
    <meta property="og:description" content="You don&#39;t have to research HDR much to find the common questions about how best to process a single image into an HDR. Some people suggest taking the photo and running it straight through Photomatix, letting it do all the legwork. Others suggest taking the image into something like Lightroom …">
    <meta property="article:published_time" content="Sunday, October 23, 2011">
    <meta name="twitter:title" content="Exploring HDR processing of a single RAW image">
    <meta name="twitter:description" content="You don&#39;t have to research HDR much to find the common questions about how best to process a single image into an HDR. Some people suggest taking the photo and running it straight through Photomatix, letting it do all the legwork. Others suggest taking the image into something like Lightroom …">
    <meta name="description" content="You don&#39;t have to research HDR much to find the common questions about how best to process a single image into an HDR. Some people suggest taking the photo and running it straight through Photomatix, letting it do all the legwork. Others suggest taking the image into something like Lightroom …">
    <meta name="twitter:image" content="">
    <meta property="og:image" content="">
	          <meta property="og:locale" content="">
			<meta property="og:site_name" content="My Protanopic Life">

	<meta property="og:type" content="article">
	<meta property="article:author" content="">
	<meta property="og:url" content="./exploring-hdr-processing-of-a-single-raw-image.html">
	<meta property="og:title" content="Exploring HDR processing of a single RAW image">
	<meta property="og:description" content="">
	   <meta property="og:image" content="./images/guilherme-toti.jpg">
	<meta property="article:published_time" content="2011-10-23 17:53:00-07:00">
	</head>
	<body>
		<header id="header">
			<!-- Container -->
			<div class="container">
				<!-- Logo / Mobile Menu -->
				<div class="five columns">
					<div id="textlogo">
						<h1><a href="./">My Protanopic Life</a></h1>
					</div>
				</div>
						<!-- Navigation
				================================================== -->
				<div class="eleven columns">

					<nav id="navigation" class="menu">
						<ul id="responsive">

							<li><a href="./">Home</a></li>


							        <li><a href="./pages/about.html">About Protanopic</a></li>
							        <li><a href="./pages/se-asia-2009.html">SE Asia 2009</a></li>
						</ul>
					</nav>
				</div>
			</div>
			<!-- Container / End -->
		</header>
		<!-- Header / End -->

		<!-- Breadcrumbs Container-->
		<div id="content-wrapper">
			<section id="titlebar">
				<!-- Container -->
				<div class="container">
				<div class="thirteen columns">
					<nav id="breadcrumbs">
						<ul>
							<li>You are here:</li>
							<li><a href="./">Home</a></li>
<li><a href="./category/photographology.html">photographology</a></li>
<li>Exploring HDR processing of a single RAW image</li>
						</ul>
					</nav>
				</div>
				</div>
				<!-- Container / End -->
			</section>

			<div class="container">
        <div class="twelve alt columns">
<article class="post" style="margin: 0; border: 0;">

	<section class="post-content">

		<header class="meta">
			<h2><a href="./exploring-hdr-processing-of-a-single-raw-image.html">Exploring HDR processing of a single RAW image</a></h2>
			<ul>
				<li>By <a href="./author/daniel.html">Daniel</a></li>
				<li>2011-10-23 17:10:00-0700</li>
			</ul>
		</header>

		<p>You don't have to research HDR much to find the common questions about
how best to process a single image into an HDR. Some people suggest
taking the photo and running it straight through Photomatix, letting it
do all the legwork. Others suggest taking the image into something like
Lightroom and exporting different versions of the image with the
exposures set at the different increments to mimic exposure bracketed
shots.</p>
<p>For a long, long time I was in the first camp. The thinking says simply
that by adjusting the exposure you're not adding anything to the image.
It suggests that since all of the data is contained in the original
image, exporting differently exposed versions of the same photo is just
presenting that data in a different way.  However, I have recently
discovered that this assumption is wrong. Amazingly, many of my
assumptions on what was happening with the data in my photographs turned
out to be wrong, and overly generous. I put too much faith in the
software, assuming it would do things in the most efficient way because
that was the ideal way to do it.  Unfortunately, the truth is that
Photoshop and Photomatix do terrible things to your photographic data,
and I will show you this fact here.</p>
<hr class="docutils" />
<p>A few months ago I was on a boat with my wife, and as is normal in San
Francisco summers the fog was rolling in past the Golden Gate Bridge.
There was a lot of movement on the boat so I couldn't take a bracketed
set. I didn't care though. I assumed Photomatix would let me balance
these extreme lighting conditions with no sweat. The photos I took on
that boat were the beginning of my discovery that I was giving
Photomatix too much credit.</p>
<p>Here is an original photo taken on the boat with a Canon T3i at 14bpp
raw:</p>
<p>[caption id=&quot;attachment_4459&quot; align=&quot;aligncenter&quot; width=&quot;300&quot;]<a class="reference external image-reference" href="http://protanoptic.com/2011/10/23/exploring-hdr-processing-of-a-single-raw-image/20110702-17-15-40-2/"><img alt="The untouched file, default settings." class="size-medium wp-image-4459" src="http://protanoptic.com/wp-content/uploads/2011/10/20110702-17-15-40-2-300x200.jpg" style="width: 300px; height: 200px;" /></a> The untouched file, default
settings.[/caption]</p>
<p>It's not immediately obvious that the The Golden Gate Bridge is in the
background, but you can barely see it on the left. This type of
situation is where I was hoping that Photomatix would solve my exposure
balance problems. When I looked at the RAW file in Lightroom and dropped
the exposure down I could see the bridge.  I imported the single image
into Photomatix Pro 4.1 and did a default tonemap, hoping to bring out
the details that were lost in the highlights. Here's what Photomatix
produced:</p>
<p>[caption id=&quot;attachment_4458&quot; align=&quot;aligncenter&quot;
width=&quot;300&quot;]<a class="reference external image-reference" href="http://protanoptic.com/2011/10/23/exploring-hdr-processing-of-a-single-raw-image/20110702-17-15-40_tonemapped_dng/"><img alt="Tonemapped from DNG in Photomatix using default settings" class="size-medium wp-image-4458" src="http://protanoptic.com/wp-content/uploads/2011/10/20110702-17-15-40_tonemapped_DNG-300x199.jpg" style="width: 300px; height: 199px;" /></a>
Tonemapped from DNG in Photomatix using default settings[/caption]</p>
<p>That's interesting, but it's not exactly helpful.  Specifically, you
still can't see the bridge and other features that exist in the RAW
data.  In its place is a smooth, unrealistic, grey sludge.  Clearly
Photomatix has thrown away some important data that would have been very
useful.  At this moment I realized that the technique of exporting a
single RAW image with different exposure settings in fact does allow you
to create better HDR images in Photomatix because it was obvious to me
at that point that Photomatix was throwing away useful data when working
with data from a single RAW file.</p>
<p>After doing an hour or so of research on gamut and image formats, trying
to get a grasp on their differences, I thought &quot;my camera is only 14
bits per pixel, but PSD can be 16 bits per pixel, so surely it must be
able to store all the extra information that Photomatix is throwing
away!&quot;  I converted the DNG to a PSD, imported that into Photomatix, ran
it through the default tone map settings can came out with this:</p>
<p>[caption id=&quot;attachment_4457&quot; align=&quot;aligncenter&quot;
width=&quot;300&quot;]<a class="reference external image-reference" href="http://protanoptic.com/2011/10/23/exploring-hdr-processing-of-a-single-raw-image/20110702-17-15-40-2_tonemapped_psd/"><img alt="Tonemapped in Photomatix from PSD using default settings" class="size-medium wp-image-4457" src="http://protanoptic.com/wp-content/uploads/2011/10/20110702-17-15-40-2_tonemapped_PSD-300x200.jpg" style="width: 300px; height: 200px;" /></a>
Tonemapped in Photomatix from PSD using default settings[/caption]</p>
<p>Despite the fact that many of the important details are still missing,
this image is better than what I got while running the DNG file straight
into Photomatix.  This means that Photomatix is bad at handling what is
purported to be THE raw format for digital photographs from all
manufacturers, the Digital Negative.  DNG supports data from more RAW
images formats and more types of metadata than any other format.  There
is a <a class="reference external" href="http://www.adobe.com/support/downloads/detail.jsp?ftpID=4924">free
converter</a> with
a graphical UI and a <a class="reference external" href="http://wwwimages.adobe.com/www.adobe.com/content/dam/Adobe/en/products/photoshop/pdfs/dng_commandline.pdf">scriptable CLI
interface</a>,
a freely available
<a class="reference external" href="http://www.adobe.com/support/downloads/dng/dng_sdk.html">SDK</a>, and
it even has the ability to store the original RAW file inside of the DNG
in case you simply don't trust what it's doing with your RAW data.  It's
remarkable that even with all of that available, Photomatix still can't
transpose the 14 bit raw data into a 32 bit radiance file without losing
significant amounts of data.</p>
<p>I also thought it was peculiar is how Photoshop itself was unable to
show the extra data.  When I converted the DNG into PSD, I had similar
results as I did with the DNG file.  This led me to do another hour or
so of research, and I eventually found out what was going on.</p>
<p>RAW data is storing information about all of the light that came into
the camera and hit the sensor.  This data includes parts of the image
that are outside the perceptive range of your eyes at any, shall we say,
iris exposure setting.  That is, when the iris of your eye opens and
closes, it allows you to see brighter or dimmer things, but you cannot
see the whole range of luminance at once.  Your eyes are limited to a
medium to low dynamic range, thus the need for HDR and tone-mapping to
display all of the information.  RAW images store data that is beyond
the limits of the whitest white and the blackest black that you can see
in a properly exposed RAW photograph.  Photomatix also has several
formats in its arsenal that are also supposed to do that, and they very
well may do so, but that's beyond the scope of this article.  PSD does
not store this extra data.  Tiff doesn't either.  JPG certainly does
not.  These image formats are storing color values between white and
black.  White is the brightest point that your eyes can see and can be
displayed, and no information past that point is stored.  Black is the
darkest area your eyes can see, and no information beyond that point is
stored.  These formats are rasterized.</p>
<p>On a side note, this explains why you can't gain anything if you were
allowed to convert rasterized image like PSD or JPG into a DNG file.
Since you're not gaining any extra data when you attempt to convert a
rasterized file to a RAW file, you might as well just use a TIFF or PSD,
and in fact the DNG Converter will not let you create a DNG from
anything but a RAW file format.</p>
<p>What's interesting to me is that professional photo editing resources
toss this rather important detail out all the time and put PSD and DNG
on the same level.  Matt Kloskowski from Adobe constantly gets hassled
at <a class="reference external" href="http://lightroomkillertips.com/">Lightroom Killer Tips</a> for going
back and forth between Lightroom, an app with a purely RAW format based
workflow, and Photoshop, which works with rasterized data which
truncates lots of important information from both extremes of the
radiance spectrum.  Professionals like Matt are, in essence, teaching us
techniques that are severely sub-optimal and disregarding this data loss
issue entirely.</p>
<p>Moreover, Professional applications like Adobe Photoshop and Photomatix
Pro are also silently truncating important data at both ends of the
radiance spectrum when they are supposed to be doing exactly the
opposite.  Photomatix has one primary purpose, to compress images that
have a wide radiance down into images of narrow radiance so our eyes can
see the features beyond our visual perception.  Nobody who uses this app
expects it to simply throw away the parts of the image that can't be
seen.  If we needed that, we'd shoot in JPG or TIFF and use
shadow/highlight in Photoshop.</p>
<p>So, after all of this thinking and researching, I did a final
experiment. I used Lightroom to create three versions of the same image
and merged them in Photomatix Pro as if I had taken an exposure
bracketed set.  The three images are -4EV, 0EV, +4EV. Only the exposure
was changed, and the watermark wasn't included in the test.</p>
<p>[caption id=&quot;attachment_4460&quot; align=&quot;aligncenter&quot;
width=&quot;300&quot;]<a class="reference external image-reference" href="http://protanoptic.com/2011/10/23/exploring-hdr-processing-of-a-single-raw-image/20110702-17-15-40-1/"><img alt="Adjusted in LR to -4EV" class="size-medium wp-image-4460" src="http://protanoptic.com/wp-content/uploads/2011/10/20110702-17-15-40-1-300x200.jpg" style="width: 300px; height: 200px;" /></a> Adjusted in LR to -4EV[/caption]</p>
<p>[caption id=&quot;attachment_4459&quot; align=&quot;aligncenter&quot;
width=&quot;300&quot;]<a class="reference external image-reference" href="http://protanoptic.com/2011/10/23/exploring-hdr-processing-of-a-single-raw-image/20110702-17-15-40-2/"><img alt="Default settings in LR, 0EV" class="size-medium wp-image-4459" src="http://protanoptic.com/wp-content/uploads/2011/10/20110702-17-15-40-2-300x200.jpg" style="width: 300px; height: 200px;" /></a> Default settings in LR,
0EV[/caption]</p>
<p>[caption id=&quot;attachment_4461&quot; align=&quot;aligncenter&quot;
width=&quot;300&quot;]<a class="reference external image-reference" href="http://protanoptic.com/2011/10/23/exploring-hdr-processing-of-a-single-raw-image/20110702-17-15-40-3/"><img alt="Adjusted in LR to +4EV" class="size-medium wp-image-4461" src="http://protanoptic.com/wp-content/uploads/2011/10/20110702-17-15-40-3-300x200.jpg" style="width: 300px; height: 200px;" /></a> Adjusted in LR to +4EV[/caption]</p>
<p>I merged these in Photomatix and used the same default tone-mapping
settings as the previous photos.</p>
<p>[caption id=&quot;attachment_4456&quot; align=&quot;aligncenter&quot;
width=&quot;300&quot;]<a class="reference external image-reference" href="http://protanoptic.com/2011/10/23/exploring-hdr-processing-of-a-single-raw-image/20110702-17-15-40-1_2_3_fused/"><img alt="Tonemapped from PSD's at -4EV, 0EV and +4EV in Photomatix using default settings" class="size-medium wp-image-4456" src="http://protanoptic.com/wp-content/uploads/2011/10/20110702-17-15-40-1_2_3_fused-300x200.jpg" style="width: 300px; height: 200px;" /></a> Tonemapped from PSD's at -4EV, 0EV and +4EV in
Photomatix using default settings[/caption]</p>
<p>In this final set you can see the extent of the information that was
being thrown out by Photoshop and Photomatix.  Specifically, the entire
Golden Gate Bridge was captured by the camera, but was invisible to both
applications using their standard import methods.</p>
<p>And with that, I am now on the side of the people who recommend
exporting exposure bracketed versions of a single exposure when using
Photomatix to tonemap a single image. Science, logic and truth prevail,
revealing to everybody the Golden Gate Bridge.</p>

		    <div class="tags">
		        <p>tags: <a href="./tag/journal.html">journal</a><a href="./tag/photography.html">photography</a></p>
		    </div>

<div class="sharing">
</div>
<hr>

	</section>
	<div class="clearfix"></div>

</article>

        </div>

        <!-- Sidebar -->
        <div class="four columns">




                
        </div>
			</div>
			<!-- Container / End -->
		</div>
		<!-- Content Wrapper / End -->

		<div id="footer-bottom">
			<!-- Container -->
			<div class="container">
				<div class="eight columns">&copy;  || Blog powered by <a href="http://getpelican.com">Pelican</a></div>
					<div class="eight columns">
						<ul class="social-icons-footer">
								<li>
									<a href="https://www.instagram.com/danielhoherd/" class="tooltip top" title="Instagram">
										<i class="fab fa-instagram"></i>
									</a>
								</li>
								<li>
									<a href="https://flickr.com/photos/warzauwynn/" class="tooltip top" title="Flickr">
										<i class="fab fa-flickr"></i>
									</a>
								</li>
						</ul>
					</div>
			</div>
			<!-- Container / End -->
		</div>
		<!-- Footer Bottom / End -->

	<!-- Javascripts -->
	<script src="./theme/js/jquery.min.js"></script>
	</body>
</html>